<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../iron-ajax/iron-ajax.html">
<link rel="import" href="../../iron-list/iron-list.html">

<dom-module id="congress-member">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
      }
    </style>
    <div class="item">
      <figure>
        <img src="" alt="">
      </figure>
      <figcaption><p>{{exampleElementVar.hello}}</p></figcaption>
    </div>
  </template>
</dom-module>
<script>
(function() {
Polymer({
  is: 'congress-member',
  created: function() {
    key = this.getAttribute('key');
    data = {'hello': 'goodbye'}
  },
  properties: {
    key: String,
    data: Object,
    exampleElementVar: {
      value: function() {
        var data = {'hello': 'bye'}
        return data
    }
  },
  ready: function() {
    xhr = new XMLHttpRequest();
    xhr.addEventListener("load", function() {//data = JSON.parse(this.responseText); 
      data['lastName'] = "Perry"
      return data
    })
    xhr.open("GET", 'https://api.propublica.org/congress/v1/114/senate/members.json');
    xhr.setRequestHeader("X-API-Key", process.env.congress);
    xhr.send();
    return data;
    }
  },
  observers: [
    'logFor(exampleElementVar.hello)',
  ],
  logFor: function(thing) {
    console.log(thing)
  }
});
Polymer.log = console.log.bind(console);
})();
</script>

